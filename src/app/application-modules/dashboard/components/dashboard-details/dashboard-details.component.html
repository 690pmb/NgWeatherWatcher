<app-dashboard>
    <div *ngIf="forecast">
        <h2>{{ forecast.location.name }} - {{ date | date: 'fullDate':'':translate.currentLang }}</h2>
    </div>
    <ng-container *ngIf="hours">
        <mat-table [dataSource]="hours">
            <ng-container matColumnDef="time">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'global.hour' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour">
                    {{ hour.time | date: 'H:mm' }}
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="condition">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'forecast.condition' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour">
                    <img src="./assets/icons/{{ hour.isDay ? 'day' : 'night' }}/{{ hour.condition.icon }}" />
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="tempC">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'forecast.temp' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour"> {{ hour.tempC }} Â°C </mat-cell>
            </ng-container>

            <ng-container matColumnDef="windKph">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'forecast.wind' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour"> {{ hour.windKph }} km/h </mat-cell>
            </ng-container>

            <ng-container matColumnDef="precipMm">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'forecast.precip' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour"> {{ hour.precipMm }} mm </mat-cell>
            </ng-container>

            <ng-container matColumnDef="chanceOfRain">
                <mat-header-cell mat-header-cell *matHeaderCellDef>
                    {{ 'forecast.rain' | translate }}
                </mat-header-cell>
                <mat-cell *matCellDef="let hour"> {{ hour.chanceOfRain }} % </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
            <mat-row *matRowDef="let hours; columns: columnsToDisplay"></mat-row>
        </mat-table>
    </ng-container>
</app-dashboard>